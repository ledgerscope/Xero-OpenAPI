# This file is the second delta that is applied (after the first)
# The purpose of this is to apply the changes to the OpenAPI specification that are specific to the Ledgerscope API

# For example: 
# - Changing the title of the API
# - Changing the contact details
# - Changing the URL of the API
# - Changing the OAuth2 endpoints
# - Remove write (and other modifying) operations

# This is used to build the SDKs for our customers to interact with our API and to build the API documentation site

settings:
  failIfNotFound: true
  applyXeroExampleKludge: true

actions:

  - action: modify
    path: info > title
    content: Ledgerscope API

  - action: modify
    path: info > termsOfService
    content: https://www.ledgerscope.com/terms-of-use

  - action: modify
    path: info > contact > name
    content: Ledgerscope Team

  - action: modify
    path: info > contact > email
    content: support@ledgerscope.com

  - action: modify
    path: info > contact > url
    content: https://www.ledgerscope.com

  - action: modify
    path: servers > * > description
    content: The Ledgerscope Accounting API exposes accounting and related functions of the main Xero application and can be used for a variety of purposes such as reading transactions like invoices and credit notes.

  - action: modify
    path: servers > * > url
    content: https://xero.api.ledgerscope.com/api.xro/2.0

  - action: modify
    path: components > securitySchemes > OAuth2 > flows > authorizationCode > authorizationUrl
    content: https://xero.api.ledgerscope.com/identity/connect/authorize

  - action: modify
    path: components > securitySchemes > OAuth2 > flows > authorizationCode > tokenUrl
    content: https://xero.api.ledgerscope.com/connect/token
    
  - action: delete
    path: paths > /ContactGroups/{ContactGroupID}/Contacts

  - action: delete
    path: paths > /ContactGroups/{ContactGroupID}/Contacts/{ContactID}

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/Allocations

  - action: delete
    path: paths > /Invoices/{InvoiceID}/Email

  - action: delete
    path: paths > /Overpayments/{OverpaymentID}/Allocations

  - action: delete
    path: paths > /Prepayments/{PrepaymentID}/Allocations

  - action: delete
    path: paths > /TrackingCategories/{TrackingCategoryID}/Options

  - action: delete
    path: paths > /TrackingCategories/{TrackingCategoryID}/Options/{TrackingOptionID}

  - action: delete
    path: paths > * > post

  - action: delete
    path: paths > * > put

  - action: delete
    path: paths > * > delete

  - action: delete
    path: components > schemas > * > allOf > [2] > properties > BrandingTheme

  - action: delete
    path: components > schemas > * > properties > BrandingThemeID

  - action: delete
    path: components > parameters > BrandingThemeID

  - action: delete
    path: components > schemas > ExpenseClaim > allOf > [1] > properties > Receipts

  - action: delete
    path: paths > /Contacts/{ContactID} > get > responses > 200 > content > application/json > example > Contacts > * > BrandingTheme

  - action: delete
    path: paths > /Contacts/{ContactNumber} > get > responses > 200 > content > application/json > example > Contacts > * > BrandingTheme

  - action: delete
    path: paths > /Quotes > get > responses > 200 > content > application/json > example > Quotes > * > BrandingThemeID

  - action: delete
    path: paths > /Quotes/{QuoteID} > get > responses > 200 > content > application/json > example > Quotes > * > BrandingThemeID

  - action: addChild
    path: info
    key: description
    content: |
      Ledgerscope API gets you connected to a wide variety of different accounting software sources, with every connection looking like a Xero accounting API connection.  So when you develop your new app to work with Xero's API, you can then easily roll it out for lots of other accounting software sources too.

      ## Using this API explorer
      
      This API explorer shows the various operations available in the Ledgerscope API.  The available operations are listed below. 
      
      Each operation has a [_Test Request_&nbsp;] button for you to try it out with an accounting dataset.  The [_Test Request_&nbsp;] button will open a dialog where you enter the _ledgerscope&#8209;tenant&#8209;id_ and any other parameters required for the operation, and then execute it.
    
      **To use it with the sample dataset**, just enter _demo_ as the _ledgerscope&#8209;tenant&#8209;id_. It's as simple as that â€” no authentication required.  The sample dataset is provided by Ledgerscope, and allows you to explore the API without any setup.
      
      **To use it with your own accounting dataset**, you'll have to set up a Ledgerscope API account (it's free) and connect it to your accounts dataset. See the [API Explorer notes](/usage/api-explorer/your-dataset.html) in the [Ledgerscope API guide](../) for how.

  - action: modify
    path: components > parameters > requiredHeader > name
    content: ledgerscope-tenant-id

  - action: modify
    path: components > parameters > requiredHeader > x-snake
    content: ledgerscope_tenant_id

  - action: modify
    path: components > parameters > requiredHeader > description
    content: Ledgerscope Identifier for Tenant

  - action: modify
    path: components > parameters > requiredHeader > example
    content: YOUR_LEDGERSCOPE_TENANT_ID

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > HasAttachments > default
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > HasAttachments > example
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > ApprovedForSending > default
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > ApprovedForSending > example
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > SendCopy > default
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > SendCopy > example
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > MarkAsSent > default
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > MarkAsSent > example
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > IncludePDF > default
    content: false

  - action: modify
    path: components > schemas > RepeatingInvoice > properties > IncludePDF > example
    content: false

  - action: delete
    path: paths > /Accounts/{AccountID}/Attachments

  - action: delete
    path: paths > /Accounts/{AccountID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /Accounts/{AccountID}/Attachments/{FileName}

  - action: delete
    path: paths > /BatchPayments/{BatchPaymentID}/History

  - action: delete
    path: paths > /BankTransactions/{BankTransactionID}/Attachments

  - action: delete
    path: paths > /BankTransactions/{BankTransactionID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /BankTransactions/{BankTransactionID}/Attachments/{FileName}

  - action: delete
    path: paths > /BankTransactions/{BankTransactionID}/History

  - action: delete
    path: paths > /BankTransfers/{BankTransferID}/Attachments

  - action: delete
    path: paths > /BankTransfers/{BankTransferID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /BankTransfers/{BankTransferID}/Attachments/{FileName}

  - action: delete
    path: paths > /BankTransfers/{BankTransferID}/History

  - action: delete
    path: paths > /Budgets

  - action: delete
    path: paths > /Budgets/{BudgetID}

  - action: delete
    path: components > parameters > BudgetID

  - action: delete
    path: components > schemas > Budgets

  - action: delete
    path: components > schemas > Budget

  - action: delete
    path: components > schemas > BudgetLine

  - action: delete
    path: components > schemas > BudgetBalance

  - action: delete
    path: paths > /Contacts/{ContactID}/Attachments

  - action: delete
    path: paths > /Contacts/{ContactID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /Contacts/{ContactID}/Attachments/{FileName}

  - action: delete
    path: paths > /Contacts/{ContactID}/CISSettings

  - action: delete
    path: components > schemas > CISSettings

  - action: delete
    path: components > schemas > CISSetting

  - action: delete
    path: components > schemas > CISOrgSettings

  - action: delete
    path: components > schemas > CISOrgSetting

  - action: delete
    path: components > schemas > CreditNote > allOf > * > properties > CISDeduction

  - action: delete
    path: components > schemas > Invoice > allOf > * > properties > CISDeduction

  - action: delete
    path: components > schemas > CreditNote > allOf > * > properties > CISRate

  - action: delete
    path: components > schemas > Invoice > allOf > * > properties > CISRate

  - action: delete
    path: paths > /Contacts/{ContactID}/History

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/Attachments

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/Attachments/{FileName}

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/pdf

  - action: delete
    path: paths > /CreditNotes/{CreditNoteID}/History

  - action: delete
    path: paths > /Invoices/{InvoiceID}/Attachments

  - action: delete
    path: paths > /Invoices/{InvoiceID}/pdf

  - action: delete
    path: paths > /Invoices/{InvoiceID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /Invoices/{InvoiceID}/Attachments/{FileName}

  - action: delete
    path: paths > /Invoices/{InvoiceID}/History

  - action: delete
    path: paths > /LinkedTransactions

  - action: delete
    path: paths > /ManualJournals/{ManualJournalID}/Attachments

  - action: delete
    path: paths > /ManualJournals/{ManualJournalID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /ManualJournals/{ManualJournalID}/Attachments/{FileName}

  - action: delete
    path: paths > /ManualJournals/{ManualJournalID}/History

  - action: delete
    path: paths > /Organisation/Actions

  - action: delete
    path: paths > /Organisation/{OrganisationID}/CISSettings

  - action: delete
    path: paths > /Overpayments/{OverpaymentID}/History

  - action: delete
    path: paths > /Payments/{PaymentID}/History

  - action: delete
    path: paths > /Prepayments/{PrepaymentID}/History

  - action: delete
    path: paths > /Reports

  - action: delete
    path: paths > /Reports/BudgetSummary

  - action: delete
    path: paths > /Reports/ExecutiveSummary

  - action: delete
    path: paths > /Reports/TenNinetyNine

  - action: delete
    path: components > securitySchemes > OAuth2 > flows > authorizationCode > scopes > accounting.reports.tenninetynine.read

  - action: delete
    path: paths > /BrandingThemes

  - action: delete
    path: paths > /BrandingThemes/{BrandingThemeID}

  - action: delete
    path: paths > /BrandingThemes/{BrandingThemeID}/PaymentServices

  - action: delete
    path: components > schemas > BrandingTheme

  - action: delete
    path: components > schemas > BrandingThemes

  - action: delete
    path: components > schemas > PaymentServices

  - action: delete
    path: components > schemas > PaymentService

  - action: delete
    path: paths > /PaymentServices

  - action: delete
    path: components > securitySchemes > OAuth2 > flows > authorizationCode > scopes > paymentservices

  - action: delete
    path: paths > /Quotes

  - action: delete
    path: paths > /Quotes/{QuoteID}

  - action: delete
    path: paths > /Quotes/{QuoteID}/History

  - action: delete
    path: paths > /Quotes/{QuoteID}/pdf

  - action: delete
    path: paths > /Quotes/{QuoteID}/Attachments

  - action: delete
    path: paths > /Quotes/{QuoteID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /Quotes/{QuoteID}/Attachments/{FileName}

  - action: delete
    path: components > schemas > Quotes

  - action: delete
    path: components > schemas > Quote

  - action: delete
    path: components > schemas > QuoteStatusCodes

  - action: delete
    path: paths > /RepeatingInvoices

  - action: delete
    path: paths > /RepeatingInvoices/{RepeatingInvoiceID}

  - action: delete
    path: paths > /RepeatingInvoices/{RepeatingInvoiceID}/Attachments

  - action: delete
    path: paths > /RepeatingInvoices/{RepeatingInvoiceID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /RepeatingInvoices/{RepeatingInvoiceID}/Attachments/{FileName}

  - action: delete
    path: paths > /RepeatingInvoices/{RepeatingInvoiceID}/History

  - action: delete
    path: components > schemas > RepeatingInvoices

  - action: delete
    path: components > schemas > RepeatingInvoice

  - action: delete
    path: paths > /Invoices > get > responses > 200 > content > application/json > example > Invoices > * > RepeatingInvoiceID

  - action: delete
    path: components > parameters > RepeatingInvoiceID

  - action: delete
    path: components > schemas > LineItem > properties > RepeatingInvoiceID

  - action: delete
    path: paths > /Receipts

  - action: delete
    path: paths > /Receipts/{ReceiptID}

  - action: delete
    path: paths > /Receipts/{ReceiptID}/Attachments

  - action: delete
    path: paths > /Receipts/{ReceiptID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /Receipts/{ReceiptID}/Attachments/{FileName}

  - action: delete
    path: paths > /Receipts/{ReceiptID}/History

  - action: delete
    path: components > schemas > Receipts

  - action: delete
    path: components > schemas > Receipt

  - action: delete
    path: paths > /Accounts/{AccountID} > get > responses > 200 > content > application/json > example > Accounts > * > ShowInExpenseClaims

  - action: delete
    path: components > schemas > ExpenseClaim

  - action: delete
    path: paths > /ExpenseClaims

  - action: delete
    path: paths > /ExpenseClaims/{ExpenseClaimID}

  - action: delete
    path: paths > /ExpenseClaims/{ExpenseClaimID}/History

  - action: delete
    path: components > parameters > ExpenseClaimID

  - action: delete
    path: components > schemas > Account > allOf > * > properties > ShowInExpenseClaims

  - action: delete
    path: components > schemas > ExpenseClaims

  - action: delete
    path: components > schemas > HistoryRecords

  - action: delete
    path: components > schemas > HistoryRecord

  - action: delete
    path: components > requestBodies

  - action: delete
    path: components > responses > HistoryRecordCreated

  - action: delete
    path: components > responses > HistoryRetrieved

  - action: delete
    path: paths > /Invoices/{InvoiceID}/OnlineInvoice

  - action: delete
    path: components > schemas > OnlineInvoices

  - action: delete
    path: components > schemas > OnlineInvoice

  - action: delete
    path: components > schemas > InvoiceReminders

  - action: delete
    path: components > schemas > InvoiceReminder

  - action: delete
    path: paths > /InvoiceReminders/Settings

  - action: delete
    path: components > schemas > ImportSummaryObject

  - action: delete
    path: components > schemas > ImportSummary

  - action: delete
    path: components > schemas > ImportSummaryAccounts

  - action: delete
    path: components > schemas > ImportSummaryOrganisation

  - action: delete
    path: paths > /BatchPayments

  - action: delete
    path: paths > /BatchPayments/{BatchPaymentID}

  - action: delete
    path: paths > /ContactGroups

  - action: delete
    path: paths > /ContactGroups/{ContactGroupID}

  - action: delete
    path: paths > /Items

  - action: delete
    path: paths > /Items/{ItemID}

  - action: delete
    path: paths > /Items/{ItemID}/History

  - action: delete
    path: paths > /PurchaseOrders

  - action: delete
    path:  paths > /PurchaseOrders/{PurchaseOrderID}

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderID}/pdf

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderID}/History

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderID}/Attachments

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderID}/Attachments/{AttachmentID}

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderID}/Attachments/{FileName}

  - action: delete
    path: paths > /PurchaseOrders/{PurchaseOrderNumber}

  - action: delete
    path: paths > /Users

  - action: delete
    path: paths > /Users/{UserID}

  - action: addChildFromFile
    path: paths
    failIfNotFound: true
    filePath: ./xero-identity.yaml
    fileContentPath: paths > /Connections
    key: /Connections

  - action: modify
    path: paths > /Connections > get > description
    failIfNotFound: true
    content: In Ledgerscope API this operation is found on `/Connections` and `/api.xro/2.0/Connections`

  - action: modify
    path: paths > /Connections > get > tags > [0]
    failIfNotFound: true
    needle: identity
    content: Identity

  - action: addChildFromFile
    path: paths
    failIfNotFound: true
    filePath: ./xero-identity.yaml
    fileContentPath: paths > /Connections/{id}
    key: /Connections/{id}

  - action: modify
    path: paths > /Connections/{id} > delete > description
    failIfNotFound: true
    content: In Ledgerscope API this operation is found on `/Connections/{id}` and `/api.xro/2.0//Connections/{id}`

  - action: modify
    path: paths > /Connections/{id} > delete > tags > [0]
    failIfNotFound: true
    needle: identity
    content: Identity